<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>US Cities Scatter Plot on Map</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.2/echarts.min.js"></script>
</head>
<body>
    <div id="main" style="width: 800px; height: 600px;"></div>
    <script>
        var chart = echarts.init(document.getElementById('main'));

        var data = [
            {name: 'New York', value: [40.7128, -74.0060, 8336817]},
            {name: 'Los Angeles', value: [34.0522, -118.2437, 3898747]},
            {name: 'Chicago', value: [41.8781, -87.6298, 2746388]},
            {name: 'Houston', value: [29.7604, -95.3698, 2304580]},
            {name: 'Phoenix', value: [33.4484, -112.0740, 1608139]},
            {name: 'Philadelphia', value: [39.9526, -75.1652, 1603797]},
            {name: 'San Antonio', value: [29.4241, -98.4936, 1434625]},
            {name: 'San Diego', value: [32.7157, -117.1611, 1386932]},
            {name: 'Dallas', value: [32.7767, -96.7970, 1304379]},
            {name: 'San Jose', value: [37.3382, -121.8863, 1013240]}
        ];

        var option = {
            backgroundColor: '#404a59',
            title: {
                text: 'Major US Cities',
                subtext: 'Data from 2019 estimates',
                left: 'center',
                textStyle: {
                    color: '#fff'
                }
            },
            tooltip: {
                trigger: 'item',
                formatter: function (params) {
                    return params.name + ': ' + params.value[2].toLocaleString();
                }
            },
            geo: {
                map: 'USA',
                label: {
                    emphasis: {
                        show: false
                    }
                },
                itemStyle: {
                    normal: {
                        areaColor: '#323c48',
                        borderColor: '#111'
                    },
                    emphasis: {
                        areaColor: '#2a333d'
                    }
                }
            },
            series: [{
                name: 'Cities',
                type: 'scatter',
                coordinateSystem: 'geo',
                data: data,
                symbolSize: function (val) {
                    return Math.sqrt(val[2]) / 50;
                },
                label: {
                    formatter: '{b}',
                    position: 'right',
                    show: false
                },
                itemStyle: {
                    normal: {
                        color: '#ddb926'
                    }
                },
                emphasis: {
                    label: {
                        show: true
                    }
                }
            }]
        };

        chart.setOption(option);
    </script>
</body>
</html>
